@import "tailwindcss";

@theme {
  --color-cream: #F7F6F3;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --card: #ffffff;
  --card-foreground: #171717;
  --primary: #171717;
  --primary-light: #404040;
  --primary-foreground: #ffffff;
  --secondary: #475093;
  --secondary-light: #6B74B5;
  --muted: #F5F5F5;
  --muted-foreground: #737373;
  --border: #E5E5E5;
  --accent: #FF5A39;
  --accent-light: #FF9E75;
  --success: #22C55E;
  --danger: #EF4444;

  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  --font-display: 'Inter', system-ui, -apple-system, sans-serif;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ─── Student pages ──────────────────────────────────── */
.student-ui {
  font-family: var(--font-body);
}
.student-ui h1,
.student-ui h2,
.student-ui h3 {
  font-family: var(--font-body);
  letter-spacing: -0.02em;
}

/* ─── Sidebar ─────────────────────────────────────────── */
.sidebar-link {
  transition: all 0.15s ease;
}

.sidebar-link:hover {
  background: #F5F5F5;
}

.sidebar-link.active {
  background: #F5F5F5;
  color: var(--foreground);
  font-weight: 600;
}

/* ─── Card hover ──────────────────────────────────────── */
.card-hover {
  transition: all 0.2s ease;
}

.card-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.06);
}

/* ─── Progress bar ────────────────────────────────────── */
.progress-fill {
  transition: width 0.6s ease-out;
}

/* ─── Badge glow ──────────────────────────────────────── */
.badge-earned {
  animation: badge-glow 2s ease-in-out infinite alternate;
}

@keyframes badge-glow {
  from { box-shadow: 0 0 4px rgba(255, 90, 57, 0.15); }
  to { box-shadow: 0 0 12px rgba(255, 90, 57, 0.3); }
}

/* ─── Page transition ─────────────────────────────────── */
main {
  animation: fadeIn 0.15s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(3px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ─── Game timer ──────────────────────────────────────── */
.animate-shrink {
  animation: shrink linear forwards;
}

@keyframes shrink {
  from { width: 100%; }
  to { width: 0%; }
}

/* ─── Game pulse ──────────────────────────────────────── */
@keyframes game-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.game-pulse {
  animation: game-pulse 0.3s ease-in-out;
}

/* ─── Animations ──────────────────────────────────────── */
@keyframes bounce-in {
  0% { transform: scale(0.5); opacity: 0; }
  70% { transform: scale(1.05); }
  100% { transform: scale(1); opacity: 1; }
}

.animate-bounce-in {
  animation: bounce-in 0.4s ease-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
  20%, 40%, 60%, 80% { transform: translateX(4px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out;
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

@keyframes pop {
  0% { transform: scale(0.95); opacity: 0.8; }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); opacity: 1; }
}

.animate-pop {
  animation: pop 0.3s ease-out;
}

@keyframes confetti-fall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
}

.animate-confetti {
  animation: confetti-fall 2s ease-out forwards;
}

/* ─── Adventure Map ──────────────────────────────────── */

/* Node pulse glow (current level) */
@keyframes map-node-pulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
  50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.15; }
}

.map-node-pulse {
  animation: map-node-pulse 2s ease-in-out infinite;
}

/* Avatar floating bounce */
@keyframes map-avatar-float {
  0%, 100% { transform: translate(-50%, -130%) translateY(0); }
  50% { transform: translate(-50%, -130%) translateY(-6px); }
}

.map-avatar-float {
  animation: map-avatar-float 2.5s ease-in-out infinite;
}

/* Road dashed center line animation */
@keyframes map-road-dash {
  0% { stroke-dashoffset: 0; }
  100% { stroke-dashoffset: 36; }
}

.map-road-dash {
  animation: map-road-dash 2s linear infinite;
}

/* Completed road subtle glow pulse */
@keyframes map-road-glow {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.35; }
}

.map-road-glow {
  animation: map-road-glow 3s ease-in-out infinite;
}

/* Castle flag wave */
@keyframes map-flag-wave {
  0%, 100% { transform: scaleX(1); }
  25% { transform: scaleX(1.05) skewX(-2deg); }
  75% { transform: scaleX(0.95) skewX(2deg); }
}

.map-flag-wave {
  transform-origin: left center;
  animation: map-flag-wave 2s ease-in-out infinite;
}

/* ─── Cloud drift animations (3 speeds for parallax) ── */
@keyframes cloud-drift-slow {
  0% { transform: translateX(-15px); }
  50% { transform: translateX(15px); }
  100% { transform: translateX(-15px); }
}

@keyframes cloud-drift-med {
  0% { transform: translateX(20px); }
  50% { transform: translateX(-20px); }
  100% { transform: translateX(20px); }
}

@keyframes cloud-drift-fast {
  0% { transform: translateX(-25px) translateY(-3px); }
  33% { transform: translateX(10px) translateY(3px); }
  66% { transform: translateX(25px) translateY(-2px); }
  100% { transform: translateX(-25px) translateY(-3px); }
}

.cloud-drift-1 {
  animation: cloud-drift-slow 45s ease-in-out infinite;
}

.cloud-drift-2 {
  animation: cloud-drift-med 55s ease-in-out infinite;
}

.cloud-drift-3 {
  animation: cloud-drift-fast 65s ease-in-out infinite;
}

/* ─── Map creature animations ────────────────────────── */

/* Flying bird — float up and down + subtle horizontal */
@keyframes map-fly {
  0%, 100% { transform: translateY(0) translateX(0); }
  25% { transform: translateY(-6px) translateX(4px); }
  50% { transform: translateY(-2px) translateX(8px); }
  75% { transform: translateY(-8px) translateX(3px); }
}

.map-fly {
  animation: map-fly 4s ease-in-out infinite;
}

/* Rabbit hop */
@keyframes map-hop {
  0%, 70%, 100% { transform: translateY(0); }
  80% { transform: translateY(-5px); }
  90% { transform: translateY(0); }
}

.map-hop {
  animation: map-hop 5s ease-in-out infinite;
}

/* Butterfly flutter — wobbly flight */
@keyframes map-flutter {
  0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
  20% { transform: translateY(-8px) translateX(5px) rotate(5deg); }
  40% { transform: translateY(-3px) translateX(10px) rotate(-3deg); }
  60% { transform: translateY(-10px) translateX(4px) rotate(4deg); }
  80% { transform: translateY(-5px) translateX(-2px) rotate(-2deg); }
}

.map-flutter {
  animation: map-flutter 6s ease-in-out infinite;
}

/* ─── Hide scrollbar utility ─────────────────────────── */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ─── Custom scrollbar ────────────────────────────────── */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #D4D4D4;
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: #A3A3A3;
}

/* ─── Primary button (dark) ───────────────────────────── */
.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: #171717;
  color: white;
  font-weight: 600;
  border-radius: 9999px;
  padding: 10px 20px;
  font-size: 14px;
  transition: all 0.15s ease;
  cursor: pointer;
  text-decoration: none;
}
.btn-primary:hover {
  background: #404040;
}
.btn-primary:active {
  transform: scale(0.98);
}

/* ─── Kids button ─────────────────────────────────────── */
.btn-kids {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: var(--font-body);
  font-weight: 600;
  border-radius: 9999px;
  min-height: 44px;
  padding: 10px 24px;
  font-size: 14px;
  transition: all 0.15s ease;
  cursor: pointer;
  text-decoration: none;
  line-height: 1;
}
.btn-kids:hover {
  opacity: 0.88;
}
.btn-kids:active {
  transform: scale(0.97);
}

/* ─── Outline button ──────────────────────────────────── */
.btn-outline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: white;
  color: #171717;
  border: 1px solid #E5E5E5;
  font-weight: 600;
  border-radius: 9999px;
  padding: 10px 20px;
  font-size: 14px;
  transition: all 0.15s ease;
  cursor: pointer;
  text-decoration: none;
}
.btn-outline:hover {
  background: #F5F5F5;
}
.btn-outline:active {
  transform: scale(0.98);
}

/* ─── Game card ────────────────────────────────────────── */
.game-card-kids {
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.2s ease;
  border: none;
  background: var(--color-cream);
}
.game-card-kids:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px -8px rgba(0, 0, 0, 0.06);
}

/* ─── Pill tab ────────────────────────────────────────── */
.pill-tab {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 7px 14px;
  font-size: 13px;
  font-weight: 500;
  border-radius: 9999px;
  border: none;
  background: transparent;
  color: #737373;
  cursor: pointer;
  transition: all 0.15s ease;
  white-space: nowrap;
}
.pill-tab:hover {
  color: #171717;
  background: var(--color-cream);
}
.pill-tab.active {
  background: #171717;
  color: white;
}

/* ─── Focus styles ────────────────────────────────────── */
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.08);
  border-color: #A3A3A3;
}

/* ─── Text gradient ───────────────────────────────────── */
.text-gradient-orange {
  background: linear-gradient(135deg, #FF5A39, #FF9E75);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ═══════════════════════════════════════════════════════════
   GAMIFIED MODE ANIMATIONS
   ═══════════════════════════════════════════════════════════ */

/* ─── Player animations ────────────────────────────────── */
@keyframes run-bob {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}
.animate-run-bob { animation: run-bob 0.35s ease-in-out infinite; }

@keyframes arm-swing {
  0%, 100% { transform: rotate(-15deg); }
  50% { transform: rotate(15deg); }
}
.animate-arm-swing { transform-origin: right center; animation: arm-swing 0.35s ease-in-out infinite; }
.animate-arm-swing-reverse { transform-origin: left center; animation: arm-swing 0.35s ease-in-out infinite reverse; }

@keyframes leg-run {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}
.animate-leg-run { animation: leg-run 0.35s ease-in-out infinite; }
.animate-leg-run-reverse { animation: leg-run 0.35s ease-in-out infinite reverse; }

/* ─── Boss animations ──────────────────────────────────── */
@keyframes boss-idle {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-8px) scale(1.03); }
}
.animate-boss-idle { animation: boss-idle 1.2s ease-in-out infinite; }

@keyframes boss-death {
  0% { transform: scale(1) rotate(0deg); opacity: 1; filter: brightness(1); }
  20% { transform: scale(1.15) rotate(5deg); opacity: 1; filter: brightness(2); }
  40% { transform: scale(1.1) rotate(-8deg); opacity: 0.8; filter: brightness(1.5) saturate(0.5); }
  60% { transform: scale(0.8) rotate(15deg); opacity: 0.5; filter: brightness(1) saturate(0); }
  80% { transform: scale(0.4) rotate(30deg); opacity: 0.2; filter: brightness(0.5); }
  100% { transform: scale(0) rotate(180deg); opacity: 0; }
}
.animate-boss-death { animation: boss-death 1s ease-in forwards; }

@keyframes boss-hurt {
  0% { transform: translateX(0) scale(1); filter: brightness(1); }
  10% { transform: translateX(-8px) scale(1.05); filter: brightness(2) saturate(0); }
  20% { transform: translateX(10px) scale(0.95); filter: brightness(1.5); }
  30% { transform: translateX(-6px) scale(1.02); filter: brightness(2) saturate(0); }
  40% { transform: translateX(6px); filter: brightness(1.3); }
  50% { transform: translateX(-4px); filter: brightness(1.8) saturate(0); }
  70% { transform: translateX(2px); filter: brightness(1.2); }
  100% { transform: translateX(0) scale(1); filter: brightness(1); }
}
.animate-boss-hurt { animation: boss-hurt 0.6s ease-out; }

@keyframes boss-attack {
  0% { transform: translateX(0) scale(1); }
  15% { transform: translateX(-15px) scale(1.1); }
  30% { transform: translateX(25px) scale(1.15); }
  50% { transform: translateX(0) scale(1.05); }
  100% { transform: translateX(0) scale(1); }
}
.animate-boss-attack { animation: boss-attack 0.5s ease-out; }

@keyframes boss-explode {
  0% { transform: scale(0); opacity: 1; }
  30% { transform: scale(1.5); opacity: 0.9; }
  60% { transform: scale(2); opacity: 0.5; }
  100% { transform: scale(2.5); opacity: 0; }
}
.animate-boss-explode { animation: boss-explode 0.8s ease-out forwards; }

/* ─── Damage effects ───────────────────────────────────── */
@keyframes damage-flash {
  0% { opacity: 0.4; }
  50% { opacity: 0; }
  100% { opacity: 0.3; }
}
.animate-damage-flash { animation: damage-flash 0.3s ease-out 2; }

/* ─── UI animations ────────────────────────────────────── */
@keyframes block-hit {
  0% { transform: translateY(0); }
  25% { transform: translateY(-12px); }
  100% { transform: translateY(0); }
}
.animate-block-hit { animation: block-hit 0.3s ease-out; }

@keyframes coin-spin {
  0% { transform: scaleX(1); }
  25% { transform: scaleX(0.2); }
  50% { transform: scaleX(1); }
  75% { transform: scaleX(0.2); }
  100% { transform: scaleX(1); }
}
.animate-coin-spin { animation: coin-spin 2s ease-in-out infinite; }

@keyframes poof {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.8; }
  100% { transform: scale(2); opacity: 0; }
}
.animate-poof { animation: poof 0.6s ease-out forwards; }

@keyframes slide-in-right {
  0% { transform: translateX(100%); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}
.animate-slide-in-right { animation: slide-in-right 0.5s ease-out; }

@keyframes card-deal {
  0% { transform: translateY(-50px) rotateY(180deg) scale(0.5); opacity: 0; }
  60% { transform: translateY(5px) rotateY(0deg) scale(1.05); opacity: 1; }
  100% { transform: translateY(0) rotateY(0deg) scale(1); opacity: 1; }
}
.animate-card-deal { animation: card-deal 0.6s ease-out; }

@keyframes card-deal-delay {
  0%, 30% { transform: translateY(-50px) rotateY(180deg) scale(0.5); opacity: 0; }
  80% { transform: translateY(5px) rotateY(0deg) scale(1.05); opacity: 1; }
  100% { transform: translateY(0) rotateY(0deg) scale(1); opacity: 1; }
}
.animate-card-deal-delay { animation: card-deal-delay 0.8s ease-out; }

@keyframes walk-forward {
  0% { transform: translateX(0); }
  100% { transform: translateX(var(--walk-distance, 100px)); }
}
.animate-walk-forward { animation: walk-forward 1s ease-in-out forwards; }

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  75% { transform: translateX(6px); }
}
.animate-shake { animation: shake 0.4s ease-in-out; }

@keyframes float-up {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-40px); opacity: 0; }
}
.animate-float-up { animation: float-up 1s ease-out forwards; }

@keyframes pop-in {
  0% { transform: scale(0); }
  70% { transform: scale(1.1); }
  100% { transform: scale(1); }
}
.animate-pop-in { animation: pop-in 0.3s ease-out; }

@keyframes twinkle {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.9; }
}

@keyframes walk-right {
  0% { transform: translateX(0); }
  100% { transform: translateX(var(--walk-dist, 60px)); }
}
.animate-walk-right { animation: walk-right 0.8s ease-in-out forwards; }

/* ─── World theme effects ──────────────────────────────── */
@keyframes firefly {
  0%, 100% { opacity: 0; transform: translate(0, 0); }
  25% { opacity: 0.8; transform: translate(10px, -15px); }
  50% { opacity: 0.4; transform: translate(-8px, -25px); }
  75% { opacity: 0.9; transform: translate(12px, -10px); }
}

@keyframes snowfall {
  0% { transform: translateY(-20px) translateX(0) rotate(0deg); opacity: 0.8; }
  50% { transform: translateY(50vh) translateX(15px) rotate(180deg); opacity: 0.6; }
  100% { transform: translateY(100vh) translateX(-10px) rotate(360deg); opacity: 0; }
}

@keyframes ember-rise {
  0% { opacity: 0.8; transform: translateY(0) translateX(0); }
  50% { opacity: 0.5; transform: translateY(-60px) translateX(10px); }
  100% { opacity: 0; transform: translateY(-120px) translateX(-5px); }
}

@keyframes sparkle {
  0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
  25% { opacity: 0.8; transform: scale(1) rotate(45deg); }
  50% { opacity: 0.4; transform: scale(1.2) rotate(90deg); }
  75% { opacity: 0.9; transform: scale(0.8) rotate(135deg); }
}

/* ─── Pixel art rendering ──────────────────────────────── */
.pixelated {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ═══════════════════════════════════════════════════════════
   Game HUD & UI System — PixelLab asset-driven, no % hacks
   All assets use background-image at native pixel dimensions.
   ═══════════════════════════════════════════════════════════ */

/* RPG text base */
.rpg-text {
  font-family: 'Fredoka', 'Trebuchet MS', sans-serif;
  font-weight: 700;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.4);
  letter-spacing: 0.02em;
}

/* ─── HUD Icon sizes (from 48×48 source PNGs) ─────────── */
.hud-icon-sm {
  width: 24px;
  height: 24px;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}
.hud-icon-xs {
  width: 16px;
  height: 16px;
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* ─── Boss name label — pure CSS ─────────────────────── */
.hud-boss-label {
  font-family: 'Fredoka', sans-serif;
  font-size: 11px;
  font-weight: 700;
  color: #f5e6c8;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow:
    0 1px 3px rgba(0,0,0,0.9),
    0 0 8px rgba(0,0,0,0.5);
}

/* ─── HP bar track — pure CSS ────────────────────────── */
.hud-bar-track {
  position: relative;
  width: 100%;
  height: 18px;
  background: linear-gradient(180deg, #1a0a0a 0%, #2d1111 50%, #1a0a0a 100%);
  border: 2px solid #5a3a1e;
  border-radius: 4px;
  overflow: hidden;
  box-shadow:
    inset 0 1px 3px rgba(0,0,0,0.8),
    0 1px 2px rgba(0,0,0,0.6),
    0 0 6px rgba(0,0,0,0.4);
}
.hud-bar-fill {
  position: absolute;
  top: 0; left: 0; bottom: 0;
  transition: width 0.5s ease-out;
  border-radius: 2px;
}
.hud-bar-fill::after {
  content: '';
  position: absolute;
  top: 1px; left: 2px; right: 2px;
  height: 5px;
  background: linear-gradient(90deg, rgba(255,255,255,0.35), rgba(255,255,255,0.08));
  border-radius: 2px;
}
.hud-bar-fill-red {
  background: linear-gradient(180deg, #e63946 0%, #c0272e 40%, #9b1b22 100%);
}
.hud-bar-seg {
  position: absolute;
  top: 0; bottom: 0;
  width: 1px;
  background: rgba(0,0,0,0.5);
  z-index: 1;
}
.hud-bar-text {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  font-family: 'Fredoka', sans-serif;
  font-size: 9px;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,0.9), 0 0 4px rgba(0,0,0,0.5);
  letter-spacing: 1px;
}

/* ─── Stat pill — stat-pill.png 120×40 ─────────────────── */
.hud-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  height: 28px;
  padding: 0 10px;
  background: url('/game-assets/ui/hud/stat-pill.png') center / 100% 100% no-repeat;
  image-rendering: pixelated;
}
.hud-pill-val {
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  font-weight: 700;
  color: #d4aa50;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
  font-variant-numeric: tabular-nums;
}
.hud-pill-hot {
  filter: hue-rotate(-15deg) saturate(1.5);
}
.hud-pill-hot .hud-pill-val {
  color: #ff8c32;
}

/* ─── Control buttons (Exit, Classic) ──────────────────── */
.hud-ctrl-btn {
  position: relative;
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 5px 10px;
  border-radius: 4px;
  font-family: 'Fredoka', sans-serif;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.12s;
  border: 2px solid;
  border-bottom-width: 3px;
  overflow: hidden;
}
.hud-ctrl-btn:active {
  transform: translateY(1px);
  border-bottom-width: 2px;
}
.hud-ctrl-btn:hover {
  filter: brightness(1.15);
}
.hud-ctrl-btn::before {
  content: '';
  position: absolute;
  top: 2px; left: 3px; right: 3px;
  height: 35%;
  background: rgba(255,255,255,0.1);
  border-radius: 2px 2px 0 0;
  pointer-events: none;
}
.hud-ctrl-exit {
  background: linear-gradient(180deg, #4a2020 0%, #3a1818 50%, #2a1010 100%);
  border-color: #1a0808;
  color: #cc8888;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,150,150,0.08);
}
.hud-ctrl-mode {
  background: linear-gradient(180deg, #20304a 0%, #182838 50%, #101e2a 100%);
  border-color: #081018;
  color: #88aacc;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5), inset 0 1px 0 rgba(150,200,255,0.08);
}

/* ═══════════════════════════════════════════════════════════
   Question / Answer Panel — uses dedicated PixelLab PNGs
   as CSS background-image. No <img> overlays, no aspect-ratio
   hacks, no percentage juggling.
   ═══════════════════════════════════════════════════════════ */

/* ─── Dialog panel — dialog-question.png 400×200 ────────── */
.qa-dialog {
  background: url('/game-assets/ui/hud/dialog-question.png') center / 100% 100% no-repeat;
  image-rendering: pixelated;
  padding: 24px 32px;
  min-height: 100px;
  text-align: center;
}

.qa-question {
  font-family: 'Fredoka', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #3a2a14;
  text-align: center;
  line-height: 1.4;
  text-shadow: 0 1px 0 rgba(255,255,255,0.3);
}

/* ─── Problem display block ────────────────────────────── */
.qa-problem-block {
  margin-top: 10px;
  padding: 10px 14px;
  background: transparent;
  border: none;
  border-radius: 4px;
  text-align: center;
}

.qa-passage {
  font-family: 'Fredoka', sans-serif;
  font-size: 14px;
  font-weight: 500;
  color: #3a2a14;
  line-height: 1.6;
  text-shadow: none;
  text-align: left;
}

.qa-word-display {
  font-family: 'Fredoka', sans-serif;
  font-size: 28px;
  font-weight: 700;
  color: #8B6914;
  letter-spacing: 2px;
  text-shadow: 0 1px 0 rgba(255,255,255,0.3);
}

.qa-hint-text {
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  font-weight: 500;
  color: #6a5530;
  margin-top: 4px;
  text-shadow: none;
}

.qa-accent {
  color: #b05020;
  font-weight: 700;
}

.qa-accent-underline {
  color: #8B6914;
  font-weight: 700;
  text-decoration: underline;
  text-decoration-color: rgba(139,105,20,0.4);
  text-underline-offset: 2px;
}

.qa-sound-chip {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 4px 12px;
  background: linear-gradient(180deg, #5a4a30, #3a3020);
  border: 1px solid #8B6914;
  border-radius: 4px;
  font-family: 'Fredoka', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #FFD700;
  text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

.qa-letter-grid {
  display: grid;
  gap: 6px;
  margin-top: 8px;
  justify-content: center;
}
.qa-grid-cell {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: rgba(0,0,0,0.3);
  border: 2px solid rgba(255,215,0,0.15);
  border-radius: 6px;
  font-family: 'Fredoka', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #e8dcc8;
}

.qa-grid-cell-btn {
  cursor: pointer;
  transition: all 0.15s ease;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}
.qa-grid-cell-btn:hover {
  background: rgba(255,215,0,0.15);
  border-color: rgba(255,215,0,0.35);
  transform: scale(1.08);
}
.qa-grid-cell-btn:active {
  transform: scale(0.95);
}

.qa-grid-cell-correct {
  background: rgba(52, 211, 153, 0.5) !important;
  border-color: #34D399 !important;
  color: #fff !important;
  box-shadow: 0 0 8px rgba(52, 211, 153, 0.4);
  transform: scale(1.05);
}

.qa-grid-cell-wrong {
  background: rgba(239, 68, 68, 0.5) !important;
  border-color: #EF4444 !important;
  color: #fff !important;
  animation: grid-cell-shake 0.35s ease;
}

@keyframes grid-cell-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-3px); }
  40% { transform: translateX(3px); }
  60% { transform: translateX(-2px); }
  80% { transform: translateX(2px); }
}

.qa-hint-sub {
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  color: #6a5530;
  text-align: center;
}

.qa-event-chip {
  padding: 6px 12px;
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(255,215,0,0.1);
  border-radius: 4px;
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  font-weight: 500;
  color: #e8dcc8;
  text-align: left;
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
}

/* ─── Answer buttons — answer-btn-normal.png 220×64 ────── */
.qa-answer-btn-px {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border: none;
  padding: 12px 16px;
  min-height: 52px;
  background: url('/game-assets/ui/hud/answer-btn-normal.png') center / 100% 100% no-repeat;
  image-rendering: pixelated;
  transition: transform 0.12s ease, filter 0.12s ease;
}
.qa-answer-btn-px:hover {
  transform: translateY(-3px);
  filter: brightness(1.08);
}
.qa-answer-btn-px:active {
  transform: translateY(0px);
  filter: brightness(0.92);
}
.qa-answer-btn-px:disabled {
  opacity: 0.5;
  pointer-events: none;
}

.qa-answer-btn-text {
  font-family: 'Fredoka', sans-serif;
  font-size: 14px;
  font-weight: 700;
  color: #3a2a14;
  text-shadow: 0 1px 0 rgba(255,255,255,0.3);
  line-height: 1.3;
  text-align: center;
}

/* ─── Text input ───────────────────────────────────────── */
.qa-input {
  background: linear-gradient(180deg, #1e1610, #161008);
  border: 2px solid #5a3e1e;
  border-radius: 5px;
  padding: 8px 12px;
  font-family: 'Fredoka', sans-serif;
  font-weight: 600;
  font-size: 14px;
  color: #e0d0b8;
  text-align: center;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.4);
  outline: none;
}
.qa-input:focus {
  border-color: #8a6a30;
  box-shadow: inset 0 2px 6px rgba(0,0,0,0.4), 0 0 0 1px rgba(200,160,80,0.15);
}
.qa-input::placeholder {
  color: #6a5a40;
}

.qa-btn-submit {
  padding: 8px 16px;
  background: url('/game-assets/ui/hud/answer-btn-normal.png') center / 100% 100% no-repeat;
  image-rendering: pixelated;
  border: none;
  border-radius: 0;
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  font-weight: 700;
  color: #3a2a14;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.12s;
  text-shadow: 0 1px 0 rgba(255,255,255,0.3);
}
.qa-btn-submit:hover {
  background-image: url('/game-assets/ui/hud/answer-btn-hover.png');
  transform: translateY(-1px);
}
.qa-btn-submit:active {
  transform: translateY(1px);
}

/* ─── Result panels — dedicated correct/wrong PNGs ─────── */
.qa-result-panel {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 16px 32px;
  min-width: 240px;
  min-height: 80px;
  image-rendering: pixelated;
  background-size: 100% 100%;
  background-repeat: no-repeat;
  background-position: center;
}
.qa-result-panel.qa-result-correct {
  background-image: url('/game-assets/ui/hud/result-correct.png');
}
.qa-result-panel.qa-result-wrong {
  background-image: url('/game-assets/ui/hud/result-wrong.png');
}
.qa-result-text {
  font-family: 'Fredoka', sans-serif;
  font-size: 18px;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0,0,0,0.6);
}
.qa-result-sub {
  font-family: 'Fredoka', sans-serif;
  font-size: 12px;
  font-weight: 600;
  color: rgba(255,255,255,0.8);
  margin-top: 2px;
  text-shadow: 0 1px 2px rgba(0,0,0,0.4);
}

/* Level node — static, no animation */
.map-node-current {
  /* intentionally no animation — static */
}

/* ═══════════════════════════════════════════════════════════════════════
   MEMORY GAME OVERLAY — Wooden table with card-style cells
   ═══════════════════════════════════════════════════════════════════════ */

/* ─── Full-screen table background ──────────────────── */
.mem-bg {
  position: absolute;
  inset: 0;
  z-index: 15;
  background-color: #3a2a1c;
  background-image: url('/game-assets/backgrounds/download-1.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: pixelated;
  image-rendering: pixelated;
}

/* Question panel — clean dark glass, replaces old PNG qa-dialog */
.mem-question-panel {
  background: rgba(10, 12, 20, 0.82);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(212, 170, 80, 0.3);
  border-radius: 16px;
  padding: 16px 24px;
  text-align: center;
  box-shadow: 0 4px 20px rgba(0,0,0,0.4);
}
.mem-question-text {
  font-family: 'Fredoka', sans-serif;
  font-size: 17px;
  font-weight: 700;
  color: #f0e8d8;
  text-shadow: 0 1px 4px rgba(0,0,0,0.3);
}

/* Option buttons — clean dark glass, replaces old PNG qa-answer-btn-px */
.mem-option-btn {
  padding: 12px 16px;
  background: rgba(30, 28, 24, 0.7);
  border: 1px solid rgba(212, 170, 80, 0.2);
  border-radius: 12px;
  font-family: 'Fredoka', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #e8dcc8;
  text-align: center;
  cursor: pointer;
  transition: all 0.15s ease;
}
.mem-option-btn:hover:not(:disabled) {
  border-color: rgba(212, 170, 80, 0.5);
  background: rgba(40, 38, 30, 0.8);
  transform: translateY(-1px);
}
.mem-option-btn:active:not(:disabled) {
  transform: translateY(0);
}
.mem-option-selected {
  border-color: #d4aa50;
  background: rgba(212, 170, 80, 0.15);
  box-shadow: 0 0 8px rgba(212, 170, 80, 0.2);
}
.mem-option-correct {
  border-color: #4CAF50;
  background: rgba(76, 175, 80, 0.2);
  box-shadow: 0 0 8px rgba(76, 175, 80, 0.3);
}
.mem-option-btn:disabled { opacity: 0.5; cursor: default; }

/* Answer letter badge */
.mem-answer-letter {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  border-radius: 6px;
  background: rgba(212, 170, 80, 0.2);
  color: #d4aa50;
  font-size: 12px;
  font-weight: 800;
}

/* Phase label floating above the table */
.mem-phase-label {
  background: rgba(30, 20, 10, 0.75);
  border: 2px solid rgba(139, 105, 20, 0.4);
  border-radius: 12px;
  padding: 10px 24px;
  text-align: center;
  box-shadow: 0 4px 16px rgba(0,0,0,0.3);
  backdrop-filter: blur(4px);
}
.mem-phase-text {
  font-family: 'Fredoka', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: #f0e6d0;
  text-shadow: 0 1px 3px rgba(0,0,0,0.6);
}

/* ─── Memory tiles on the table ──────────────────────── */
.mem-card {
  width: 64px;
  height: 64px;
  border-radius: 8px;
  border: 3px solid rgba(60,40,20,0.5);
  cursor: pointer;
  transition: all 0.15s ease;
  background: rgba(60,40,20,0.45);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.3), 0 2px 6px rgba(0,0,0,0.25);
  box-shadow: 0 2px 6px rgba(0,0,0,0.4), 0 1px 2px rgba(0,0,0,0.2);
}
.mem-card:disabled { cursor: default; }
.mem-card:hover:not(:disabled) {
  transform: translateY(-2px);
  border-color: rgba(255,215,0,0.5);
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.3), 0 4px 10px rgba(0,0,0,0.4);
}
.mem-card-active {
  background: linear-gradient(180deg, #FFD700, #F9A825) !important;
  border-color: #8B6914 !important;
  box-shadow: 0 0 16px rgba(255,215,0,0.6), 0 2px 6px rgba(0,0,0,0.3) !important;
  transform: scale(1.06);
}
.mem-card-selected {
  background: rgba(255,215,0,0.25) !important;
  border-color: #FFD700 !important;
  box-shadow: 0 0 10px rgba(255,215,0,0.3), inset 0 2px 4px rgba(0,0,0,0.2) !important;
}
.mem-card-correct {
  background: linear-gradient(180deg, #4CAF50, #2E7D32) !important;
  border-color: #27AE60 !important;
  box-shadow: 0 0 14px rgba(76,175,80,0.5), 0 2px 6px rgba(0,0,0,0.3) !important;
}
.mem-card-missed {
  background: linear-gradient(180deg, #FF9800, #E65100) !important;
  border-color: #FF6D00 !important;
  box-shadow: 0 0 14px rgba(255,152,0,0.5), 0 2px 6px rgba(0,0,0,0.3) !important;
}
.mem-card-wrong {
  background: linear-gradient(180deg, #f44336, #c62828) !important;
  border-color: #d32f2f !important;
  box-shadow: 0 0 14px rgba(244,67,54,0.5), 0 2px 6px rgba(0,0,0,0.3) !important;
}

/* Legacy cell classes — kept for other memory sub-games that still use them */
.mem-cell {
  width: 44px;
  height: 44px;
  border-radius: 6px;
  border: 2px solid rgba(139,105,20,0.4);
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: 'Fredoka', sans-serif;
  font-weight: 700;
}
.mem-cell:disabled { cursor: default; }
.mem-cell-idle {
  background: linear-gradient(180deg, #4a3828, #3a2a1c);
  box-shadow: inset 0 1px 0 rgba(255,215,0,0.08), 0 2px 4px rgba(0,0,0,0.3);
}
.mem-cell-idle:hover:not(:disabled) {
  background: linear-gradient(180deg, #5a4430, #4a3828);
  border-color: rgba(255,215,0,0.4);
}
.mem-cell-active {
  background: linear-gradient(180deg, #FFD700, #F9A825);
  border-color: #8B6914;
  box-shadow: 0 0 12px rgba(255,215,0,0.5), 0 2px 6px rgba(0,0,0,0.3);
  transform: scale(1.05);
}
.mem-cell-selected {
  background: linear-gradient(180deg, #6a5438, #5a4430);
  border-color: #FFD700;
  box-shadow: 0 0 8px rgba(255,215,0,0.3);
}
.mem-cell-correct {
  background: linear-gradient(180deg, #4CAF50, #2E7D32);
  border-color: #27AE60;
  box-shadow: 0 0 10px rgba(76,175,80,0.4);
}
.mem-cell-missed {
  background: linear-gradient(180deg, #FF9800, #E65100);
  border-color: #FF6D00;
  box-shadow: 0 0 10px rgba(255,152,0,0.4);
}
.mem-cell-wrong {
  background: linear-gradient(180deg, #f44336, #c62828);
  border-color: #d32f2f;
  box-shadow: 0 0 10px rgba(244,67,54,0.4);
}

/* Sequence cells */
.mem-seq-cell {
  width: 44px;
  height: 44px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Fredoka', sans-serif;
  font-size: 20px;
  color: #f0e6d0;
  font-weight: 800;
  border: 2px solid rgba(139,105,20,0.4);
}
.mem-seq-active {
  background: linear-gradient(180deg, #FFD700, #F9A825);
  color: #5D3A00;
  border-color: #8B6914;
  box-shadow: 0 0 14px rgba(255,215,0,0.5);
  transform: scale(1.1);
}
.mem-seq-hidden {
  background: linear-gradient(180deg, #4a3828, #3a2a1c);
  color: rgba(255,215,0,0.3);
  border-color: rgba(139,105,20,0.3);
}
.mem-seq-tapped {
  background: linear-gradient(180deg, #6a5438, #5a4430);
  color: #FFD700;
  border-color: #FFD700;
  box-shadow: 0 0 8px rgba(255,215,0,0.3);
}
.mem-seq-empty {
  background: transparent;
  border: 2px dashed rgba(255,215,0,0.2);
}

/* Number pad */
.mem-numpad-btn {
  width: 44px;
  height: 44px;
  border-radius: 6px;
  background: linear-gradient(180deg, #4a3828, #3a2a1c);
  border: 2px solid rgba(139,105,20,0.4);
  color: #f0e6d0;
  font-family: 'Fredoka', sans-serif;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.1s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}
.mem-numpad-btn:hover:not(:disabled) {
  background: linear-gradient(180deg, #5a4430, #4a3828);
  border-color: #FFD700;
  color: #FFD700;
}
.mem-numpad-btn:active:not(:disabled) {
  transform: translateY(1px);
  box-shadow: none;
}
.mem-numpad-btn:disabled { opacity: 0.4; cursor: default; }

/* Arrow direction cells */
.mem-arrow-cell {
  width: 48px;
  height: 48px;
  border-radius: 8px;
  background: linear-gradient(180deg, #5a4430, #3e2e20);
  border: 2px solid #8B6914;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #FFD700;
  color: #FFD700;
  box-shadow: 0 0 8px rgba(255,215,0,0.15), 0 2px 6px rgba(0,0,0,0.3);
}

/* Direction selection buttons */
.mem-dir-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 12px;
  border-radius: 8px;
  background: linear-gradient(180deg, #4a3828, #3a2a1c);
  border: 2px solid rgba(139,105,20,0.4);
  color: #f0e6d0;
  color: #f0e6d0;
  cursor: pointer;
  transition: all 0.12s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.mem-dir-btn:hover:not(:disabled) {
  border-color: #FFD700;
  background: linear-gradient(180deg, #5a4430, #4a3828);
  color: #FFD700;
}
.mem-dir-selected {
  border-color: #FFD700 !important;
  background: linear-gradient(180deg, #6a5438, #5a4430) !important;
  color: #FFD700 !important;
  box-shadow: 0 0 12px rgba(255,215,0,0.3), 0 2px 8px rgba(0,0,0,0.4);
}
.mem-dir-btn:disabled { opacity: 0.5; cursor: default; }

/* Pattern display */
.mem-pattern-display {
  text-align: center;
  padding: 16px 20px;
  background: linear-gradient(180deg, #3a2a1c, #2e2018);
  border: 2px solid #8B6914;
  border-radius: 8px;
  color: #f0e6d0;
  font-family: 'Fredoka', sans-serif;
  font-weight: 700;
  box-shadow: inset 0 1px 0 rgba(255,215,0,0.1), 0 3px 8px rgba(0,0,0,0.4);
}

/* Pattern match options */
.mem-pattern-option {
  width: 100%;
  display: flex;
  align-items: center;
  padding: 10px 14px;
  background: linear-gradient(180deg, #4a3828, #3a2a1c);
  border: 2px solid rgba(139,105,20,0.4);
  border-radius: 6px;
  color: #f0e6d0;
  font-family: 'Fredoka', sans-serif;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.12s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
.mem-pattern-option:hover:not(:disabled) {
  border-color: #FFD700;
  background: linear-gradient(180deg, #5a4430, #4a3828);
}
.mem-pattern-selected {
  border-color: #FFD700 !important;
  box-shadow: 0 0 10px rgba(255,215,0,0.3);
}
.mem-pattern-correct {
  border-color: #4CAF50 !important;
  background: linear-gradient(180deg, #2E7D32, #1B5E20) !important;
  box-shadow: 0 0 10px rgba(76,175,80,0.4);
}
.mem-pattern-wrong {
  border-color: #f44336 !important;
  background: linear-gradient(180deg, #c62828, #b71c1c) !important;
  box-shadow: 0 0 10px rgba(244,67,54,0.4);
}

/* Submit button — clean CSS */
.mem-submit-btn {
  display: block;
  padding: 10px 24px;
  background: linear-gradient(180deg, #FFD700 0%, #E6A800 100%);
  border: 2px solid #B8860B;
  border-radius: 10px;
  color: #3a2a14;
  font-family: 'Fredoka', sans-serif;
  box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  font-size: 14px;
  font-weight: 700;
  text-align: center;
  cursor: pointer;
  transition: all 0.12s ease;
  text-shadow: 0 1px 0 rgba(255,255,255,0.3);
  margin-left: auto;
  margin-right: auto;
  min-width: 180px;
  min-height: 44px;
}
.mem-submit-btn:hover:not(:disabled) {
  filter: brightness(1.08);
  transform: translateY(-2px);
}
.mem-submit-btn:active:not(:disabled) {
  transform: translateY(1px);
  filter: brightness(0.9);
}
.mem-submit-btn:disabled { opacity: 0.5; cursor: default; }

/* Undo button */
.mem-undo-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px 14px;
  background: linear-gradient(180deg, #5a4430, #3e2e20);
  border: 2px solid #8B6914;
  border-radius: 8px;
  color: #FFD700;
  cursor: pointer;
  transition: all 0.12s ease;
}
.mem-undo-btn:hover:not(:disabled) { filter: brightness(1.15); }
.mem-undo-btn:disabled { opacity: 0.4; cursor: default; }

/* Skip/ready button */
.mem-skip-btn {
  display: block;
  text-align: center;
  font-family: 'Fredoka', sans-serif;
  font-size: 13px;
  font-weight: 700;
  color: rgba(240,230,208,0.6);
  background: none;
  border: none;
  cursor: pointer;
  transition: color 0.12s;
  margin-left: auto;
  margin-right: auto;
}
.mem-skip-btn:hover { color: #FFD700; }

/* Result feedback */
.mem-result {
  text-align: center;
  padding: 10px 20px;
  border-radius: 8px;
  font-family: 'Fredoka', sans-serif;
  font-size: 15px;
  font-weight: 700;
  border: 2px solid;
  text-shadow: 0 1px 3px rgba(0,0,0,0.4);
}
.mem-result-correct {
  background: linear-gradient(180deg, rgba(46,125,50,0.9), rgba(27,94,32,0.9));
  border-color: #4CAF50;
  color: #fff;
  box-shadow: 0 0 12px rgba(76,175,80,0.3);
}
.mem-result-wrong {
  background: linear-gradient(180deg, rgba(198,40,40,0.9), rgba(183,28,28,0.9));
  border-color: #f44336;
  color: #fff;
  box-shadow: 0 0 12px rgba(244,67,54,0.3);
}

/* ═══════════════════════════════════════════════════════
   MEMORY GAME — Standalone tile & card styles
   ═══════════════════════════════════════════════════════ */

/* Pattern Memory tiles */
.memory-tile {
  position: relative;
  border-radius: 6px;
  border: none;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  background-color: transparent;
  image-rendering: pixelated;
  transition: all 0.25s ease;
  box-shadow: none;
}

.memory-tile-inactive {
  background-image: url('/game-assets/memory/tiles/inactive.png');
}

.memory-tile-active {
  background-image: url('/game-assets/memory/tiles/active.png');
  animation: tile-glow 0.3s ease;
}

.memory-tile-selected {
  background-image: url('/game-assets/memory/tiles/selected.png');
}

.memory-tile-correct {
  background-image: url('/game-assets/memory/tiles/correct.png');
}

.memory-tile-wrong {
  background-image: url('/game-assets/memory/tiles/wrong.png');
  animation: tile-shake 0.4s ease;
}

@keyframes tile-glow {
  0% { transform: scale(1); }
  50% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

@keyframes tile-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-4px); }
  40% { transform: translateX(4px); }
  60% { transform: translateX(-3px); }
  80% { transform: translateX(3px); }
}

/* Memory Match cards */
.memory-card {
  perspective: 600px;
  transition: transform 0.3s ease, box-shadow 0.2s ease;
}

.memory-card-face-down {
  box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

.memory-card-flipped {
  animation: card-flip 0.4s ease;
  box-shadow: 0 0 12px rgba(255,215,0,0.3);
}

.memory-card-matched {
  opacity: 0.8;
  transform: scale(0.95);
  box-shadow: 0 0 16px rgba(50,180,80,0.4);
}

@keyframes card-flip {
  0% { transform: rotateY(0deg) scale(1); }
  50% { transform: rotateY(90deg) scale(1.05); }
  100% { transform: rotateY(0deg) scale(1); }
}

/* Radial gradient utility for vignette */
.bg-gradient-radial {
  background: radial-gradient(circle at center, var(--tw-gradient-from) 0%, var(--tw-gradient-via) 50%, var(--tw-gradient-to) 100%);
}

/* ═══════════════════════════════════════════════════════════
   Game card — base class used by both classic + adventure
   ═══════════════════════════════════════════════════════════ */
.game-card {
  background: white;
  border-radius: 1.5rem;
  border: 1px solid #f3f4f6;
  padding: 1.5rem;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

/* ═══════════════════════════════════════════════════════════
   Adventure overlay — dark glass theme for classic UI on
   top of Phaser game canvas
   ═══════════════════════════════════════════════════════════ */
.adventure-overlay .game-card {
  background: rgba(10, 12, 20, 0.82);
  backdrop-filter: blur(8px);
  border: 2px solid rgba(212, 170, 80, 0.35);
  box-shadow:
    0 4px 20px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.05);
}

/* Text overrides — light on dark */
.adventure-overlay .text-gray-900 { color: #f0e8d8; }
.adventure-overlay .text-gray-800 { color: #e8dcc8; }
.adventure-overlay .text-gray-700 { color: #d4c8b0; }
.adventure-overlay .text-gray-600 { color: #b8a890; }
.adventure-overlay .text-gray-500 { color: #a09880; }
.adventure-overlay .text-gray-400 { color: #8a8070; }

/* Answer options — dark buttons */
.adventure-overlay button[class*="border-gray-100"] {
  background: rgba(30, 28, 24, 0.7);
  border-color: rgba(212, 170, 80, 0.2);
}
.adventure-overlay button[class*="border-gray-100"]:hover {
  border-color: rgba(212, 170, 80, 0.45);
  background: rgba(40, 38, 30, 0.8);
}

/* Selected answer option — use broader selector since escaped Tailwind classes cause parse issues */

/* Correct/wrong remain high-contrast */
.adventure-overlay .bg-emerald-50 { background: rgba(16, 185, 129, 0.2); }
.adventure-overlay .border-emerald-400 { border-color: #34d399; }
.adventure-overlay .bg-red-50 { background: rgba(239, 68, 68, 0.2); }
.adventure-overlay .border-red-400 { border-color: #f87171; }

/* Gray backgrounds → dark tones */
.adventure-overlay .bg-gray-50 { background: rgba(30, 28, 24, 0.5); }
.adventure-overlay .bg-gray-100 { background: rgba(40, 38, 30, 0.5); }
.adventure-overlay .bg-gray-200 { background: rgba(50, 48, 40, 0.5); }
.adventure-overlay .bg-white { background: rgba(20, 18, 14, 0.7); }

/* Input fields */
.adventure-overlay input[type="text"] {
  background: rgba(20, 18, 14, 0.8);
  border-color: rgba(212, 170, 80, 0.3);
  color: #f0e8d8;
}
.adventure-overlay input[type="text"]::placeholder {
  color: rgba(180, 170, 150, 0.6);
}
.adventure-overlay input[type="text"]:focus {
  border-color: #d4aa50;
  box-shadow: 0 0 0 2px rgba(212, 170, 80, 0.15);
}

/* Submit button — keep orange gradient, just boost contrast */
.adventure-overlay .btn-kids {
  box-shadow: 0 2px 8px rgba(0,0,0,0.4);
}

/* Timer bars stay visible */

/* Hint section */
.adventure-overlay details summary { color: #d4aa50; }
.adventure-overlay details p { color: #b8a890; background: rgba(212,170,80,0.06); }
